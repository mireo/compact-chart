<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no">
		<link rel="icon" href="<%= BASE_URL %>favicon.ico">
		<style type="text/css">
			html,
			body {
				height: 100%;
				width: 100%;
				font-family: Arial, sans-serif;
			}
			body {
				-webkit-box-sizing: border-box;
				-moz-box-sizing: border-box;
				box-sizing: border-box;
				margin: 0px;
				border: none;
				background-color: #fff;
				padding: 0px;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}

			.flex-grid {
				display: flex;
				flex-flow: row wrap;
				justify-content: space-between;
				margin-top: 48px;
			}
			.chart-elem {
				flex: 1;
				margin: 20px;
				height: 300px;
				min-width: 400px;
			}
		</style>
		<title>Compact Chart</title>
	</head>

	<body>
		<div class='flex-grid'>
			<compact-chart data-chart='bar-chart-fixture' class='chart-elem'></compact-chart>
			<compact-chart data-chart='bar-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='bar-chart-percentage' class='chart-elem'></compact-chart>
			<compact-chart data-chart='grouped-bar-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='stacked-bar-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='stacked-bar-chart-percentage' class='chart-elem'></compact-chart>

			<compact-chart data-chart='horizontal-bar-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='horizontal-bar-chart-percentage' class='chart-elem'></compact-chart>
			<compact-chart data-chart='grouped-horizontal-bar-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='stacked-horizontal-bar-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='stacked-horizontal-bar-chart-percentage' class='chart-elem'></compact-chart>


			<compact-chart data-chart='line-category-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='stacked-linear-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='line-linear-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='stacked-linear-line-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='logarithmic-line-linear-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='logarithmic-line-linear-chart-2' class='chart-elem'></compact-chart>

			<compact-chart data-chart='area-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='area-stacked-chart' class='chart-elem'></compact-chart>


			<compact-chart data-chart='pie-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='doughnut-chart' class='chart-elem'></compact-chart>
			<compact-chart data-chart='gauge-chart' class='chart-elem'></compact-chart>
		</div>

		<script type="text/javascript">
			async function fetch_json(p) {
				let pr = fetch(p);
				const resp = await pr;
				if (!resp.ok) throw res.status;
				const res = await resp.json();
				return res;
			};

			const chart_defs = {
				//Bar
				'bar-chart-fixture': {
					type: 'bar-chart',
					category_axis_column: 0,
					locale: 'hr',
					number_symbols: [],
					size: 'small',
					title: {
						label: 'Vertical bar chart (Fixture data)'
					},
					xaxis: {
						label: 'x-axis'
					},
					yaxis: {
						range: 'auto-0',
						label: 'y-axis'
					},
					labels: {
						display: true
					},
					data: {'cols':[{'name':'x-val'},{'name':'y-val'}],'data':[[1,1.6],[2,2.2],[3,2.7],[4,3.2],[5,3.5]]},
				},
				'bar-chart': {
					type: 'bar-chart',
					category_axis_column: 0,
					locale: 'hr',
					number_symbols: [],
					size: 'large',
					title: {
						label: 'Vertical bar chart'
					},
					xaxis: {
						label: 'x-axis'
					},
					yaxis: {
						range: 'auto-0',
						label: 'y-axis'
					},
					labels: {
						display: true
					},
					data: fetch_json('./sample-1.json')
				},
				'bar-chart-percentage': {
					type: 'bar-chart',
					percentage_values: true,
					category_axis_column: 0,
					title: {
						label: 'Vertical bar chart with percentage values'
					},
					xaxis: {
						label: 'x-axis'
					},
					yaxis: {
						label: 'y-axis'
					},
					labels: {
						display: true,
						label: 'value-percentage'
					},
					data: fetch_json('./sample-1.json')
				},
				'grouped-bar-chart': {
					type: 'bar-chart',
					category_axis_column: 0,
					size: 'large',
					title: {
						label: 'Grouped vertical bar chart'
					},
					xaxis: {
						label: 'x-axis'
					},
					yaxis: {
						range: 'auto-0',
						label: 'y-axis'
					},
					labels: {
						display: true
					},
					data: fetch_json('./sample-2.json')
				},
				'stacked-bar-chart': {
					type: 'bar-chart',
					stacked: true,
					category_axis_column: 0,
					title: {
						label: 'Stacked vertical bar chart'
					},
					data: fetch_json('./sample-2.json')
				},
				'stacked-bar-chart-percentage': {
					type: 'bar-chart',
					stacked: true,
					percentage_values: true,
					category_axis_column: 0,
					title: {
						label: 'Stacked vertical bar chart with percentage values'
					},
					labels: {
						display: true,
						label: 'percentage'
					},
					data: fetch_json('./sample-2.json')
				},

				'horizontal-bar-chart': {
					type: 'horizontal-bar-chart',
					category_axis_column: 0,
					title: {
						label: 'Horizontal bar chart'
					},
					yaxis: {
						range: 'auto-0'
					},
					data: fetch_json('./sample-1.json')
				},
				'horizontal-bar-chart-percentage': {
					type: 'horizontal-bar-chart',
					percentage_values: true,
					category_axis_column: 0,
					title: {
						label: 'Horizontal bar chart with percentage values'
					},
					labels: {
						display: true,
						label: 'percentage'
					},
					data: fetch_json('./sample-1.json')
				},
				'grouped-horizontal-bar-chart': {
					type: 'horizontal-bar-chart',
					category_axis_column: 0,
					title: {
						label: 'Grouped horizontal bar chart'
					},
					xaxis: {
						range: 'auto-0'
					},
					data: fetch_json('./sample-2.json')
				},
				'stacked-horizontal-bar-chart': {
					type: 'horizontal-bar-chart',
					stacked: true,
					category_axis_column: 0,
					title: {
						label: 'Stacked horizontal bar chart'
					},
					data: fetch_json('./sample-2.json')
				},
				'stacked-horizontal-bar-chart-percentage': {
					type: 'horizontal-bar-chart',
					stacked: true,
					percentage_values: true,
					category_axis_column: 0,
					title: {
						label: 'Stacked horizontal bar chart with percentage values'
					},
					labels: {
						display: true,
						label: 'percentage'
					},
					data: fetch_json('./sample-2.json')
				},

				// Linear
				'line-category-chart': {
					type: 'line-chart',
					category_axis_column: 0,
					size: 'small',
					title: {
						label: 'Line category chart'
					},
					yaxis: {
						range: 'auto-0'
					},
					labels: {
						display: true
					},
					data: fetch_json('./sample-2.json')
				},
				'stacked-linear-chart': {
					type: 'line-chart',
					stacked: true,
					category_axis_column: 0,
					size: 'large',
					title: {
						label: 'Stacked line category chart'
					},
					yaxis: {
						range: 'auto-0'
					},
					labels: {
						display: true
					},
					data: fetch_json('./sample-2.json')
				},
				'line-linear-chart': {
					type: 'line-chart',
					category_axis_column: 0,
					title: {
						label: 'Line linear chart'
					},
					xaxis: {
						type: 'linear'
					},
					yaxis: {
						range: 'auto-0'
					},
					data: fetch_json('./sample-3.json')
				},
				'stacked-linear-line-chart': {
					type: 'line-chart',
					stacked: true,
					category_axis_column: 0,
					title: {
						label: 'Stacked linear category chart'
					},
					xaxis: {
						type: 'linear'
					},
					yaxis: {
						range: 'auto-0'
					},
					data: fetch_json('./sample-3.json')
				},
				'logarithmic-line-linear-chart': {
					type: 'line-chart',
					locale: 'en-IN',
					number_symbols: [],
					category_axis_column: 0,
					title: {
						label: 'Logarithmic line linear chart'
					},
					xaxis: {
						type: 'linear'
					},
					yaxis: {
						range: 'auto-0',
						type: 'logarithmic'
					},
					data: fetch_json('./sample-3.json')
				},
				'logarithmic-line-linear-chart-2': {
					type: 'line-chart',
					number_symbols: [],
					category_axis_column: 0,
					title: {
						label: 'Logarithmic line linear chart'
					},
					xaxis: {
						type: 'linear'
					},
					yaxis: {
						range: 'auto-0',
						type: 'logarithmic'
					},
					data: fetch_json('./sample-3.json')
				},

				// Area
				'area-chart': {
					type: 'area-chart',
					category_axis_column: 0,
					size: 'large',
					title: {
						label: 'Area chart'
					},
					xaxis: {
						type: 'linear',
						label: 'x-axis 1 2 3 4 5 6 7 8 9 10'
					},
					yaxis: {
						range: 'auto-0',
						label: 'y-axis'
					},
					data: fetch_json('./sample-3.json')
				},
				'area-stacked-chart': {
					type: 'area-chart',
					stacked: true,
					category_axis_column: 0,
					title: {
						label: 'Stacked area chart'
					},
					xaxis: {
						type: 'linear'
					},
					yaxis: {
						range: 'auto-0'
					},
					data: fetch_json('./sample-3.json')
				},

				// Pie
				'pie-chart': {
					type: 'pie-chart',
					category_axis_column: 0,
					size: 'small',
					title: {
						label: 'Pie chart'
					},
					labels: {
						display: true,
						label: 'value'
					},
					legend: {
						placement: 'right-start'
					},
					color_palette: ['#1b9e77','#d95f02','#7570b3','#e7298a','#66a61e'],
					data: fetch_json('./sample-4.json')
				},
				'doughnut-chart': {
					type: 'doughnut-chart',
					category_axis_column: 0,
					size: 'large',
					title: {
						label: 'Doughnut chart'
					},
					hole_size: 0.3,
					labels: {
						display: true,
						label: 'percentage'
					},
					data: fetch_json('./sample-4.json')
				},
				'gauge-chart': {
					type: 'gauge-chart',
					category_axis_column: 0,
					title: {
						label: 'Gauge chart'
					},
					hole_size: 0.8,
					// angle: 270,
					labels: {
						display: true,
						label: 'value-percentage',
						position: 'center'
					},
					data: fetch_json('./sample-4.json')
				}
			};

			document.querySelectorAll('[data-chart]').forEach(e => {
				const format = chart_defs[e.getAttribute('data-chart')];
				if (format) e.format = format;
			});
		</script>
	</body>
</html>